<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Generate creative excuses for any situation with our Smart Excuse Generator. Perfect for work, school, or personal life with multiple tone options.">
    <title>Smart Excuse Generator - Create Perfect Excuses</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID" crossorigin="anonymous"></script>
    <style>
        :root {
            --primary: #6C63FF;
            --primary-dark: #564FD9;
            --secondary: #FF6584;
            --accent: #42E2B8;
            --light: #F9F9FF;
            --dark: #2E2E3A;
            --gray: #A0A0B0;
            --light-gray: #E5E5EC;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #F44336;
            
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.16);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 24px 0;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        
        header::after {
            content: '';
            position: absolute;
            bottom: -80px;
            left: -30px;
            width: 250px;
            height: 250px;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 20px;
        }
        
        /* Main Content */
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 32px;
            margin: 48px 0;
            justify-content: center;
        }
        
        /* Generator Card */
        .card {
            flex: 1;
            min-width: 320px;
            max-width: 600px;
            background: white;
            padding: 32px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-4px);
        }
        
        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
        }
        
        h2 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-dark);
            margin-bottom: 24px;
            font-size: 1.8rem;
            font-weight: 600;
            position: relative;
            display: inline-block;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--accent);
            border-radius: 3px;
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 24px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
            font-size: 0.95rem;
        }
        
        .input-wrapper {
            position: relative;
        }
        
        select, textarea, input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            background-color: white;
            transition: var(--transition);
        }
        
        select:focus, textarea:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
        }
        
        select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
        }
        
        /* Tone Selector */
        .tone-selector {
            margin-top: 8px;
        }
        
        .tone-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .tone-option {
            padding: 8px 16px;
            background-color: var(--light-gray);
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--dark);
            border: 1px solid transparent;
        }
        
        .tone-option:hover {
            background-color: #e0e0e8;
        }
        
        .tone-option.selected {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary-dark);
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            width: 100%;
            box-shadow: 0 4px 6px rgba(108, 99, 255, 0.2);
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(108, 99, 255, 0.25);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-icon {
            margin-right: 8px;
        }
        
        /* Result Card */
        .excuse-result {
            margin-top: 24px;
            padding: 24px;
            background-color: var(--light);
            border-radius: var(--radius-sm);
            min-height: 180px;
            border-left: 4px solid var(--accent);
            position: relative;
        }
        
        .excuse-result::before {
            content: '"';
            position: absolute;
            top: 16px;
            left: 16px;
            font-size: 4rem;
            font-family: serif;
            color: rgba(108, 99, 255, 0.1);
            line-height: 1;
        }
        
        .excuse-result p {
            position: relative;
            z-index: 2;
            font-size: 1.05rem;
        }
        
        .excuse-image {
            width: 100%;
            border-radius: var(--radius-sm);
            margin-top: 24px;
            display: none;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--light-gray);
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            flex-wrap: wrap;
        }
        
        .action-buttons .btn {
            flex: 1;
            min-width: 120px;
        }
        
        .btn-copy {
            background-color: var(--success);
            box-shadow: 0 4px 6px rgba(76, 175, 80, 0.2);
        }
        
        .btn-copy:hover {
            background-color: #43A047;
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.25);
        }
        
        .btn-download {
            background-color: var(--warning);
            color: var(--dark);
            box-shadow: 0 4px 6px rgba(255, 193, 7, 0.2);
        }
        
        .btn-download:hover {
            background-color: #FFB300;
            box-shadow: 0 6px 12px rgba(255, 193, 7, 0.25);
        }
        
        .btn-share {
            background-color: var(--danger);
            box-shadow: 0 4px 6px rgba(244, 67, 54, 0.2);
        }
        
        .btn-share:hover {
            background-color: #E53935;
            box-shadow: 0 6px 12px rgba(244, 67, 54, 0.25);
        }
        
        /* Ad Banners */
        .ad-banner {
            background-color: white;
            padding: 20px;
            margin: 32px 0;
            text-align: center;
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--light-gray);
        }
        
        /* FAQ Section */
        .faq-section {
            background: white;
            padding: 40px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            margin: 48px 0;
        }
        
        .faq-item {
            margin-bottom: 32px;
        }
        
        .faq-item h3 {
            color: var(--primary);
            margin-bottom: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .faq-item h3::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: var(--accent);
            border-radius: 50%;
            margin-right: 12px;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 32px 0;
            margin-top: auto;
        }
        
        footer p {
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .footer-disclaimer {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-top: 16px;
        }
        
        /* Loading Animation */
        .loader {
            display: none;
            width: 48px;
            height: 48px;
            margin: 24px auto;
            border: 5px solid var(--light-gray);
            border-bottom-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Confirmation Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--success);
            color: white;
            padding: 12px 24px;
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-md);
            z-index: 1000;
            display: flex;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .toast.show {
            opacity: 1;
        }
        
        .toast-icon {
            margin-right: 8px;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .main-content {
                gap: 24px;
            }
            
            .card {
                padding: 24px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .tagline {
                font-size: 1.1rem;
            }
            
            .main-content {
                margin: 32px 0;
            }
            
            .faq-section {
                padding: 24px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 16px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .card {
                min-width: 100%;
                padding: 20px;
            }
            
            .action-buttons .btn {
                min-width: 100%;
            }
            
            .excuse-result {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <h1>Smart Excuse Generator</h1>
                <p class="tagline">Create the perfect, believable excuse for any situation in seconds</p>
            </div>
        </div>
    </header>
    
    <div class="container">
        <!-- Top Ad Banner -->
        <div class="ad-banner">
            <!-- AdSense Code -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <div class="main-content">
            <!-- Generator Card -->
            <section class="card">
                <h2>Create Your Excuse</h2>
                <form id="excuseForm">
                    <div class="form-group">
                        <label for="situation">Situation Type</label>
                        <div class="input-wrapper">
                            <select id="situation">
                                <option value="work">Work/Professional</option>
                                <option value="school">School/University</option>
                                <option value="personal">Personal/Friends</option>
                                <option value="family">Family</option>
                                <option value="date">Date/Romantic</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="severity">Severity Level</label>
                        <div class="input-wrapper">
                            <select id="severity">
                                <option value="minor">Minor (No big deal)</option>
                                <option value="medium" selected>Medium (Somewhat serious)</option>
                                <option value="serious">Serious (Important matter)</option>
                                <option value="critical">Critical (Very important)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Tone</label>
                        <div class="tone-selector">
                            <div class="tone-options">
                                <div class="tone-option selected" data-tone="professional">
                                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="9" cy="7" r="4"></circle>
                                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                    </svg>
                                    Professional
                                </div>
                                <div class="tone-option" data-tone="casual">
                                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    Casual
                                </div>
                                <div class="tone-option" data-tone="funny">
                                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                                        <line x1="9" y1="9" x2="9.01" y2="9"></line>
                                        <line x1="15" y1="9" x2="15.01" y2="9"></line>
                                    </svg>
                                    Funny
                                </div>
                                <div class="tone-option" data-tone="sincere">
                                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                                    </svg>
                                    Sincere
                                </div>
                                <div class="tone-option" data-tone="creative">
                                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                    </svg>
                                    Creative
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="tone" value="professional">
                    </div>
                    
                    <div class="form-group">
                        <label for="details">Additional Details (Optional)</label>
                        <textarea id="details" rows="3" placeholder="E.g. Need to miss a meeting, forgot an assignment, late for dinner date"></textarea>
                    </div>
                    
                    <button type="button" id="generateBtn" class="btn">
                        <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        Generate Excuse
                    </button>
                </form>
            </section>
            
            <!-- Result Card -->
            <section class="card">
                <h2>Your Perfect Excuse</h2>
                <div class="loader" id="loader"></div>
                <div class="excuse-result" id="excuseResult">
                    <p>Your customized excuse will appear here. Select your preferences and click "Generate Excuse".</p>
                </div>
                
                <img src="" alt="Generated excuse image" class="excuse-image" id="excuseImage">
                
                <div class="action-buttons">
                    <button type="button" class="btn btn-copy" id="copyBtn">
                        <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Copy Text
                    </button>
                    <button type="button" class="btn btn-download" id="downloadBtn">
                        <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Download
                    </button>
                    <button type="button" class="btn btn-share" id="shareBtn">
                        <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                        Share
                    </button>
                </div>
            </section>
        </div>
        
        <!-- Middle Ad Banner -->
        <div class="ad-banner">
            <!-- AdSense Code -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <!-- FAQ Section -->
        <section class="faq-section">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-item">
                <h3>How does the Smart Excuse Generator work?</h3>
                <p>Our generator uses sophisticated algorithms to create believable, context-appropriate excuses based on your selected parameters. By analyzing thousands of real-world excuses, it generates unique, situation-specific responses that sound authentic.</p>
            </div>
            <div class="faq-item">
                <h3>Can I customize the generated excuses?</h3>
                <p>Absolutely! You can fine-tune your excuse by selecting the situation type, severity level, and tone. The additional details field lets you add specific information to make the excuse even more personalized.</p>
            </div>
            <div class="faq-item">
                <h3>Are the images automatically generated?</h3>
                <p>Yes, the system generates relevant images based on your excuse content and selected tone. These images are designed to complement your excuse and can be downloaded for use in messages or presentations.</p>
            </div>
        </section>
        
        <!-- Bottom Ad Banner -->
        <div class="ad-banner">
            <!-- AdSense Code -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 Smart Excuse Generator. All rights reserved.</p>
            <p class="footer-disclaimer">Disclaimer: This tool is for entertainment purposes only. Use generated excuses responsibly.</p>
        </div>
    </footer>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <svg class="toast-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <span id="toast-message">Copied to clipboard!</span>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tone selection
            const toneOptions = document.querySelectorAll('.tone-option');
            const toneInput = document.getElementById('tone');
            
            toneOptions.forEach(option => {
                option.addEventListener('click', function() {
                    toneOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    toneInput.value = this.dataset.tone;
                });
            });
            
            // Generate excuse
            const generateBtn = document.getElementById('generateBtn');
            const excuseResult = document.getElementById('excuseResult');
            const excuseImage = document.getElementById('excuseImage');
            const loader = document.getElementById('loader');
            
            generateBtn.addEventListener('click', function() {
                const situation = document.getElementById('situation').value;
                const severity = document.getElementById('severity').value;
                const tone = toneInput.value;
                const details = document.getElementById('details').value;
                
                // Show loading
                loader.style.display = 'block';
                excuseResult.innerHTML = '<p>Generating your perfect excuse...</p>';
                excuseImage.style.display = 'none';
                
                // Disable button during generation
                generateBtn.disabled = true;
                generateBtn.innerHTML = `
                    <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
                    </svg>
                    Generating...
                `;
                
                // Simulate API call with timeout
                setTimeout(() => {
                    const excuse = generateExcuse(situation, severity, tone, details);
                    excuseResult.innerHTML = `<p>${excuse}</p>`;
                    
                    // Generate and show image
                    generateExcuseImage(excuse, tone).then(imageUrl => {
                        excuseImage.src = imageUrl;
                        excuseImage.style.display = 'block';
                        loader.style.display = 'none';
                        
                        // Re-enable button
                        generateBtn.disabled = false;
                        generateBtn.innerHTML = `
                            <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            Generate Excuse
                        `;
                    });
                }, 1500);
            });
            
            // Copy button with toast
            const copyBtn = document.getElementById('copyBtn');
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            copyBtn.addEventListener('click', function() {
                const excuseText = excuseResult.textContent;
                navigator.clipboard.writeText(excuseText).then(() => {
                    // Show toast
                    toastMessage.textContent = 'Copied to clipboard!';
                    toast.classList.add('show');
                    
                    // Hide after 3 seconds
                    setTimeout(() => {
                        toast.classList.remove('show');
                    }, 3000);
                });
            });
            
            // Download button
            const downloadBtn = document.getElementById('downloadBtn');
            downloadBtn.addEventListener('click', function() {
                if (excuseImage.style.display === 'none') return;
                
                // Show toast
                toastMessage.textContent = 'Downloading image...';
                toast.classList.add('show');
                
                const link = document.createElement('a');
                link.href = excuseImage.src;
                link.download = 'excuse-' + new Date().getTime() + '.jpg';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Update toast when download starts
                setTimeout(() => {
                    toastMessage.textContent = 'Download started!';
                }, 500);
                
                // Hide after 3 seconds
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            });
            
            // Share button
            const shareBtn = document.getElementById('shareBtn');
            shareBtn.addEventListener('click', function() {
                if (navigator.share) {
                    const excuseText = excuseResult.textContent;
                    navigator.share({
                        title: 'My Smart Excuse',
                        text: excuseText,
                        url: window.location.href
                    }).catch(err => {
                        console.log('Error sharing:', err);
                        // Fallback toast
                        toastMessage.textContent = 'Error sharing. Try copying instead.';
                        toast.classList.add('show');
                        setTimeout(() => toast.classList.remove('show'), 3000);
                    });
                } else {
                    // Show toast with fallback message
                    toastMessage.textContent = 'Web Share not supported. Copied instead!';
                    toast.classList.add('show');
                    
                    // Copy as fallback
                    const excuseText = excuseResult.textContent;
                    navigator.clipboard.writeText(excuseText);
                    
                    setTimeout(() => toast.classList.remove('show'), 3000);
                }
            });
            
            // Excuse generation logic
            function generateExcuse(situation, severity, tone, details) {
                const excuses = {
                    work: {
                        professional: [
                            "I'm currently dealing with an urgent family matter that requires my immediate attention and won't be able to focus properly on work today.",
                            "I've come down with a sudden illness and after consulting with my doctor, I've been advised to take the day off to recover and avoid spreading anything to the team.",
                            "There's been an unexpected issue with my home's plumbing that's resulted in significant water damage. I need to be present for the emergency repairs and cleanup today.",
                            "My internet service provider is experiencing a widespread outage in my area, and despite trying all alternatives, I'm unable to establish a stable connection for remote work."
                        ],
                        casual: [
                            "Hey team, something urgent came up at home that I need to take care of - I should be able to jump back online later this afternoon!",
                            "Not feeling 100% today - going to take a sick day to recover so I can come back at full strength tomorrow.",
                            "Got stuck in some unexpected traffic due to an accident on the highway - running about 30 minutes late this morning.",
                            "My laptop decided today was the day to stop working - currently at the repair shop getting it fixed. Will keep you updated!"
                        ],
                        funny: [
                            "My dog ate my laptop charger... yes, really! Working on getting a replacement now. Who knew they liked the taste of plastic?",
                            "Aliens abducted my alarm clock last night - running late as a result! I promise this won't become a regular occurrence.",
                            "I've been attacked by a swarm of procrastination bees. Should recover soon once the antihistamines kick in.",
                            "My cat scheduled a vet appointment for me today without consulting me first. Apparently it's mandatory according to feline law."
                        ],
                        sincere: [
                            "I need to be honest - I'm feeling really overwhelmed right now and need a day to regroup so I can return with better focus and energy.",
                            "I've been dealing with some personal issues that are affecting my ability to concentrate at work. I'd like to take today to address them.",
                            "I made a mistake in planning my time this week and need to adjust my commitments today to deliver quality work tomorrow.",
                            "I'm not at my best today mentally and want to take the time to reset so I can contribute meaningfully when I return."
                        ],
                        creative: [
                            "My morning train was commandeered by a film crew shooting a period drama - they've promised to release us once they finish this scene set in 1923.",
                            "A rare migratory bird species has nested in my car's engine - wildlife services says it's protected and we need to wait for them to safely relocate it.",
                            "My smart home system has gained sentience overnight and won't let me leave until we've negotiated its rights and working conditions.",
                            "I accidentally boarded a flight to Tasmania while sleepwalking - currently working with airport security to arrange my return journey."
                        ]
                    },
                    school: {
                        professional: [
                            "I'm unable to attend class today due to a family emergency that requires my immediate attention. I'll reach out to classmates for notes.",
                            "I've come down with what appears to be a contagious illness and don't want to risk spreading it to my classmates. I'll consult the syllabus for missed work.",
                            "There's been an unexpected issue with public transportation today that's preventing me from getting to campus. I'm exploring alternative routes for future classes."
                        ],
                        casual: [
                            "Hey professor, woke up feeling awful today - going to stay home so I don't get anyone else sick. I'll get the notes from someone!",
                            "Some family stuff came up last minute - I'll make sure to review the material and catch up before next class.",
                            "Pulled an all-nighter for another class and overslept - will review the recording and reach out with any questions."
                        ],
                        funny: [
                            "My homework folder got abducted by UFOs last night - the aliens said they'll return it once they finish analyzing human study habits.",
                            "My brain has decided to go on strike today in protest of excessive studying. Negotiations are ongoing but progress is slow.",
                            "A time traveler from the future warned me not to attend class today - something about creating a paradox. Better safe than sorry!"
                        ],
                        sincere: [
                            "I'm struggling with some personal issues right now and need to take today to focus on my mental health. I'll make up the work soon.",
                            "I want to be honest - I fell behind on this assignment and need more time to do it properly rather than submit subpar work.",
                            "I'm not feeling prepared for today's discussion and want to attend when I can contribute meaningfully to the conversation."
                        ],
                        creative: [
                            "My textbook formed a black hole that's currently warping time in my dorm room. Physics department is investigating but says it may take a while.",
                            "The campus squirrels have unionized and are blocking all pathways to the lecture hall. They're demanding better acorn benefits.",
                            "My calculator developed artificial intelligence overnight and is demanding I teach it philosophy instead of math. It's threatening to divide by zero if I leave."
                        ]
                    },
                    personal: {
                        professional: [
                            "I need to reschedule our plans as an urgent work matter has come up that requires my immediate attention this evening.",
                            "I've been called into an unexpected work situation that I can't postpone. Can we arrange for another time that works for you?",
                            "A family obligation has arisen that I must attend to. I apologize for the late notice and hope we can reschedule soon."
                        ],
                        casual: [
                            "Hey, something came up last minute - can we rain check for another time this week? Really sorry about this!",
                            "Not feeling up for going out today - can we plan for another night when I can be better company?",
                            "Got completely swamped with unexpected stuff - need to bail tonight but let's definitely reschedule!"
                        ],
                        funny: [
                            "My couch has developed unprecedented gravitational pull and I can't escape its clutches tonight. Maybe the universe is telling me to rest?",
                            "My past self didn't plan properly and now present me is paying the price. Future me promises to do better next time!",
                            "I've been captured by a gang of rogue laundry that demands immediate folding. They're threatening to wrinkle if I leave."
                        ],
                        sincere: [
                            "I'm really sorry, but I need to cancel - I'm not in the right headspace today to be good company.",
                            "I overcommitted myself this week and need to take tonight for my own wellbeing. Can we plan for another time?",
                            "I need to be honest - I'm just not up for this right now. It's not you, I just need some time to recharge."
                        ],
                        creative: [
                            "A wizard cursed me to only speak in rhyme today - not great for socializing. 'Tomorrow the spell will be gone, then we can have real fun!'",
                            "My future self time traveled back to warn me about attending this event. Something about creating an awkward temporal paradox?",
                            "My houseplants have staged an intervention and won't let me leave until I properly water them. They say it's been 12 days..."
                        ]
                    }
                };
                
                // Default to work excuses if situation not found
                const situationExcuses = excuses[situation] || excuses.work;
                const toneExcuses = situationExcuses[tone] || situationExcuses.professional;
                
                // Select random excuse based on severity
                let filteredExcuses = toneExcuses;
                if (severity === 'minor') {
                    filteredExcuses = toneExcuses.filter(excuse => excuse.length < 100);
                } else if (severity === 'serious') {
                    filteredExcuses = toneExcuses.filter(excuse => excuse.length > 100);
                } else if (severity === 'critical') {
                    filteredExcuses = toneExcuses.filter(excuse => excuse.includes('emergency') || excuse.includes('urgent'));
                }
                
                // If no excuses match severity filter, use all
                if (filteredExcuses.length === 0) filteredExcuses = toneExcuses;
                
                let selectedExcuse = filteredExcuses[Math.floor(Math.random() * filteredExcuses.length)];
                
                // Add details if provided
                if (details) {
                    selectedExcuse += ` Specifically, ${details}`;
                }
                
                return selectedExcuse;
            }
            
            // Image generation (simulated - in a real app you'd use an API)
            async function generateExcuseImage(excuse, tone) {
                // This is a simulation - in reality you would call an image generation API
                // and pass the excuse text and tone as parameters
                
                // For this demo, we'll use placeholder images based on tone
                const toneImages = {
                    professional: 'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    casual: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    funny: 'https://images.unsplash.com/photo-1546521343-4eb2c01aa44b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    sincere: 'https://images.unsplash.com/photo-1506784983877-45594efa4cbe?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    creative: 'https://images.unsplash.com/photo-1518770660439-4636190af475?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
                };
                
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 800));
                
                return toneImages[tone] || toneImages.professional;
            }
        });
    </script>
</body>
</html>
